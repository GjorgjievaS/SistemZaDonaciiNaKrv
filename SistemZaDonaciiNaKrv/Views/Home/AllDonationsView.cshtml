@model IEnumerable<SistemZaDonaciiNaKrv.Models.DonationModel>

@{
    ViewBag.Title = "Преглед на сите термини";
}

<h2>Преглед на сите термини</h2>

<table class="table" style="max-width:900px">
    <tr class="table-info">
        <th>
           Име
        </th>
        <th>
            Презиме
        </th>
        <th>
            Време на донација
        </th>
        <th>
           Град
        </th>
        <th>
            Извршена
        </th>
        <th></th>
    </tr>

 @{
                 int i = 0;
                 foreach (var item in Model) {
<tr class="@(i%2==0?"table-default":"table-active")">
    <td>
        @Html.DisplayFor(modelItem => item.Name)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.LastName)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.DonationTime)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.City)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.isDone)


    </td>

    <td>
        @if (!item.isDone)
        {
            if (item.bloodType.Equals("A+"))
            {
                <a class="btn btn-outline-info" href="/Home/AddBlood?bloodType=APositive&donationId=@item.Id">Готово</a>
            }
            if (item.bloodType.Equals("A-"))
            {
                <a class="btn btn-outline-info" href="/Home/AddBlood?bloodType=ANegative&donationId=@item.Id">Готово</a>
            }
            if (item.bloodType.Equals("B+"))
            {
                <a class="btn btn-outline-info" href="/Home/AddBlood?bloodType=BPositive&donationId=@item.Id">Готово</a>
            }
            if (item.bloodType.Equals("B-"))
            {
                <a class="btn btn-outline-info" href="/Home/AddBlood?bloodType=BNegative&donationId=@item.Id">Готово</a>
            }
            if (item.bloodType.Equals("AB+"))
            {
                <a class="btn btn-outline-info" href="/Home/AddBlood?bloodType=ABPositive&donationId=@item.Id">Готово</a>
            }
            if (item.bloodType.Equals("AB-"))
            {
                <a class="btn btn-outline-info" href="/Home/AddBlood?bloodType=ABNegative&donationId=@item.Id">Готово</a>
            }
            if (item.bloodType.Equals("O+"))
            {
                <a class="btn btn-outline-info" href="/Home/AddBlood?bloodType=OPositive&donationId=@item.Id">Готово</a>
            }
            if (item.bloodType.Equals("O-"))
            {
                <a class="btn btn-outline-info" href="/Home/AddBlood?bloodType=ONegative&donationId=@item.Id">Готово</a>
            }
        }
        else
        {
            <a class="btn btn-outline-info disabled">Готово</a>
        }

    </td>
    <td>
        <a href="/Home/DeleteDonation/@item.Id" class="btn btn-outline-danger">Избриши</a>
    </td>
</tr>
         i++;
     }
}

</table>
